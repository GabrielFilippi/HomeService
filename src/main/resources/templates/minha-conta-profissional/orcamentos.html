<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head th:include="layout :: htmlhead"></head>

<body>
    <header th:replace="layout :: header"></header>

    <!-- Page Content -->
    <div class="content container">
        <section class="sectionTitlePage">
            <div class="container">
                <h2 class="title-page">Orçamentos</h2>
            </div> <!-- container //  -->
        </section>

        <section class="section-content padding-y">
            <div class="container">

                <div class="row">
                    <aside th:replace="layout :: navMinhaContaProfissional">
                    </aside>

                    <main class="col-md-9">
                        <div class="row justify-content-between">
                            <a th:href="@{/conta-profissional/orcamentos/novo}" class="btn btn-success"><i class="fas fa-plus-circle"></i> Novo Orçamento</a>
                            <a href="#" class="btn btn-dark"><i class="fas fa-envelope"></i> Enviar por E-mail</a>
                        </div>
                        <div class="clearfix"> &nbsp;</div>
                        <div class="row">
                            <div class="card col-lg-12">
                                <div class="card-body ">
                                    <form th:action="@{/conta-profissional/orcamentos/(formFiltrarOrcamentos)}" th:object="${orcamentoNovo}" method="post">
                                        <div class="form-row">
                                            <div class="col form-group">
                                                <label>Número do Orçamento</label>
                                                <input type="text" class="form-control" value="">
                                            </div>
                                            <div class="col form-group">
                                                <label>Cliente</label>
                                                <input type="text" class="form-control" value="">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col form-group">
                                                <label>Pesquisar no período</label>
                                                <input type="date" class="form-control" value="">
                                            </div>
                                            <div class="col form-group">
                                                <label> &nbsp; </label>
                                                <input type="date" class="form-control" value="">
                                            </div>
                                        </div>

                                        <button type="submit" class="btn btn-success float-right">Buscar</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="card col-lg-12">
                                <div class="card-body ">
                                    <div class="table-responsive">
                                        <table class="table table-sm table-hover table-bordered">
                                            <thead>
                                                <tr class="text-center">
                                                    <th scope="col">#</th>
                                                    <th scope="col">Nº</th>
                                                    <th scope="col">Cliente</th>
                                                    <th scope="col">Emissão</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Valor Total</th>
                                                    <th scope="col"><i class="fas fa-eye"></i></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="orcamento : ${listaOrcamento}" class="text-center">
                                                    <th scope="row"><input type="checkbox"></th>
                                                    <th th:text="${orcamento.id}"></th>
                                                    <td th:text="${orcamento.cliente.pessoa.nome}"></td>
                                                    <td th:text="${#dates.format(orcamento.dataCriacao, 'dd/MM/yyyy HH:mm')}"></td>
                                                    <td th:text="${orcamento.status}"></td>
                                                    <td th:text="${'R$ ' + #numbers.formatDecimal(orcamento.totalOrcamento, 1, 'POINT', 2, 'COMMA')}"></td>
                                                    <td><a  th:href="@{'/conta-profissional/orcamentos/visualizar/' + ${orcamento.id}}" >Visualizar</a></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </section>
    </div>

    <div th:replace="layout :: footer"></div>

</body>

</html>